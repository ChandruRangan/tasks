<%# stylesheets and design%>
<%=erb :style%>

<div class="w3-container">
<a href="/pro_insert_page" class="w3-button w3-teal w3-center w3-padding-small w3-round w3-card-4 w3-margin"><span class="material-symbols-rounded">person_add</span> Add Project</a>
<input type="text" class="w3-input w3-border w3-margin-top" placeholder="Search..." id="search">
  <table class="w3-table-all w3-card-4  w3-small w3-margin-top">
      <thead>
      <tr class="w3-black">
          <th>Project Name</th>
          <th>Project Lead</th>
          <th>Team Members</th>
          <th>Project Start Date</th>
          <th>Project End Date</th>
          <th colspan="2" class="w3-center">Action</th>
      </tr>
      </thead>
      <tbody id="table_data">
      <%values.each do |val|%>
      <tr>
      <td><%=val['project_name']%></td>
      <td><%=val['project_lead']%></td>
      <td><%=val['team_members'].tr("{""}","")%></td>
      <td><%=val['project_s_date']%></td>
      <td><%=val['project_e_date']%></td>
      <td>
      <a href="/pro_update_page?id=<%=val['pro_id']%>" 
      class="w3-button w3-green w3-ripple w3-round w3-padding-small"
      onclick="return confirm('Are you sure to Update the data')">
      <span class="material-symbols-rounded">edit_note</span></a>
      </td>
      <td><a href="/pro_delete?id=<%=val['pro_id']%>" 
      class="w3-button w3-red w3-ripple w3-round w3-padding-small" 
      onclick="return confirm('Are you sure to Delete the data')">
      <span class="material-symbols-rounded">delete</span></a>
      </td>
      </tr>
      <% end %>
      </tbody>
  </table>
  <div class="w3-center">
  <a href="/" class="w3-button w3-teal w3-margin-top w3-round">Home</a>
  </div>
  </div>
   
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
$(document).ready(function(){
  $("#search").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#table_data tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>