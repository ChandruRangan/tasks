<%# stylesheets and design%>
<%=erb :style%>

<div class="w3-container">
<div class="w3-panel w3-card-4 w3-blue w3-round">
    <h1 class="w3-center">CRUD</h1>
  </div>
  <a href="/emp_insert_page" class="w3-button w3-red w3-center w3-padding-small w3-round w3-card-4"><span class="material-symbols-rounded">person_add</span> Add Employee</a>
  <a href="/pro_view_page" class="w3-button w3-gray w3-center w3-padding-small w3-round w3-card-4 w3-margin-left"><span class="material-symbols-rounded">person_add</span> View Project</a>
<input type="text" class="w3-input w3-border w3-margin-top" placeholder="Search..." id="search">
  <table class="w3-table-all w3-card-4  w3-small w3-margin-top">
      <thead>
      <tr class="w3-black">
          <th>Full Name</th>
          <th>Email Address</th>
          <th>Phone Number</th>
          <th>Joining Date</th>
          <th>Date of Birth</th>
          <th colspan="2" class="w3-center">Action</th>
      </tr>
      </thead>
      <tbody id="table_data">
      <%values.each do |val|%>
      <tr>
      <td><%=val['full_name']%></td>
      <td><%=val['email_address']%></td>
      <td><%=val['phone_no']%></td>
      <td><%=val['joining_date']%></td>
      <td><%=val['dob']%></td>
      <td>
      <a href="/emp_update_page?id=<%=val['emp_id']%>" 
      class="w3-button w3-green w3-ripple w3-round w3-padding-small"
      onclick="return confirm('Are you sure to Update the data')">
      <span class="material-symbols-rounded">edit_note</span></a>
      </td>
      <td><a href="/emp_delete?id=<%=val['emp_id']%>" 
      class="w3-button w3-red w3-ripple w3-round w3-padding-small" 
      onclick="return confirm('Are you sure to Delete the data')">
      <span class="material-symbols-rounded">delete</span></a>
      </td>
      </tr>
      <% end %>
      </tbody>
  </table>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
$(document).ready(function(){
  $("#search").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#table_data tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>